var d=Object.create;var a=Object.defineProperty;var x=Object.getOwnPropertyDescriptor;var k=Object.getOwnPropertyNames;var q=Object.getPrototypeOf,A=Object.prototype.hasOwnProperty;var E=(e,t,n,s)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of k(t))!A.call(e,o)&&o!==n&&a(e,o,{get:()=>t[o],enumerable:!(s=x(t,o))||s.enumerable});return e};var u=(e,t,n)=>(n=e!=null?d(q(e)):{},E(t||!e||!e.__esModule?a(n,"default",{value:e,enumerable:!0}):n,e));var i=require("worker_threads");var l=u(require("os")),y=require("worker_threads"),M=require("fs-extra"),h=require("shelljs");var w=l.cpus(),C=w.length;var p=u(require("better-sqlite3"));var f=require("fs-extra"),c={},m=e=>(c[e]===void 0&&((0,f.ensureFileSync)(e),c[e]=new p.default(e,{verbose:console.log})),c[e]);var g=m;var r,b;i.parentPort.on("message",e=>{let{type:t}=e;if(t==="connect"){let{transactions:n,path:s}=e;r=g(s),r.exec("PRAGMA journal_mode = OFF;"),r.exec("PRAGMA synchronous = 0;"),r.exec("PRAGMA cache_size = 1000000;"),r.exec("PRAGMA locking_mode = EXCLUSIVE"),r.exec("PRAGMA temp_store = MEMORY;"),b=new Function(`return ${n}`)()}else if(t==="collection"){let{data:n}=e;r.exec(`BEGIN TRANSACTION;${b(n)}COMMIT;`),i.parentPort.postMessage(!0)}else{let{sql:n}=e;i.parentPort.postMessage(r.exec(n))}});
//# sourceMappingURL=insert.js.map